# vim 고급 사용법

## Mode
vim은 크게 4가지 모드로 동작되어 집니다.  

- Normal Mode
- Insert Mode
- Visual Mode
- Commnd-line Mode

이중에 가장 기본이 되는 모드는 Normal Mode(명령모드 라고도 합니다.)
언제든 ``Ctrl+[`` 키를 입력하면 Normal Mode가 됩니다.
이곳에서 Insert mode , Visual mode, Command mode 로 이동이 가능합니다. 반대로 각각의 모드에서 모드 전환을 하려면 반드시 Normal mode 로 이동해서 전환 해야 합니다.

## Normal mode 
- 모드이동 명령
	- Normal Mode : <Esc>, ``Ctrl+[``
	- Insert Mode : i, I, a, A, o, O 
	- Visual Mode : v, V, Ctrl+v(windows는 Ctrl+q)
	- Command-line Mode : ``:``
- 커서이동 명령
	- h, j, k, l : 좌우로 한칸, 위아래로 한줄씩 커서를 이동합니다. 명령앞에 숫자를 입력하면 숫자 만큼 명령을 수행 합니다.
		- 예) 10l : 오른쪽으로 10칸 이동
		- 예) 10h : 왼쪽으로 10칸 이동
	- 단어단위로 이동 : w, W, b, B, e, gE
	- ``0, $, ^, [, {, (, ), }, ]`` : 현재줄의 처음과 끝, 문장의 처음과 끝, 문단의 처음과 끝으로 이동
	- H, M, L 
		- H : 화면 맨위로 
		- M : 화면 중간으로
		- L : 화면 끝으로
	- gg, nG : 줄단위로 커서를 이동 시킵니다.
		- gg는 문서 맨 위로 커서를 이동 시킵니다.
		- nG는 숫자 위치로 커서를 이동 시킵니다.
- 찾아서 커서 이동하기 명령
	- f, F, t, T, /, ? : 특정 문자, 키워드를 찾아 이동합니다.
		- f : 오른쪽으로 문자를 찾아 이동합니다. F는 왼쪽으로 찾아 이동합니다.
		- t : 오른쪽으로 문자를 찾아 찾은 문자 왼쪽에 커서를 위치 시킵니다. T는 왼쪽에서 찾아 오른쪽에 커서를 위치시킵니다. 한글도 f처럼 사용하면 됩니다.
		- / : /는 키워드를 현재 커서 아래로 모두 찾아 하이라이트 해줍니다. n, N으로 이동 할 수 있습니다. 키워드와 단어는 조금 다릅니다. 키워드는 단어와 공백을 포함합니다.
		- ? : ?는 현재 커서 위로 키워드를 찾아 이동합니다. 

- 삭제 명령
	- x, d, dd, D
		- x는 커서위의 1문자를 지웁니다. 또는 범위 설정된 부분을 지웁니다.
		- d는 삭제 대기 명령입니다. 어떻게 삭제할 지를 대기 하고 있습니다. 이동명령과 조합 가능합니다. 
			- dw : 커서 위치에서 부터 한단어 삭제, 주의 have 란 단어의 a에 커서가 있을 경우 ave만 삭제
			- d5l : 커서를 기준으로  오른쪽으로 5칸 삭제. 
			- daw : 커서 위치의 단어를 삭제. 
			- nd : d앞에 반복 숫자를 사용할 수 있음. 3dw : 3단어 삭제
			- ``d$`` : 커서 위치부터 줄 끝까지 삭제.
			- ``d0`` : 커서 위치부터 줄 처음까지 삭제.
			- dG : 커서 위치부터 마지막 까지 삭제.
			- dd : 현재줄 모두 삭제.
			- D : 커서 위치부터 줄끝까지 삭제.
				- 2D: 현재 커서 위치부터 2줄을 삭제. 현재줄 끝까지 삭제되고 추가로 2줄이 삭제됨.

- 바꾸기 명령
	- s, S, c, C
	- s : 커서위 문자를 지우고 insert mode가 됩니다.
	- S : 줄 전체를 지우고 insert mode 가 됩니다.
	- c : 바꾸기 대기 명령, 이동키와 조합 가능
	- cw : 현재 커서위치 부터 한단어를 지우고 insert mode
	- caw : 현재 커서위치의 단어를 지우고 insert mdoe
	- ci' : '' 안의 문자열을 지우고 insert mode
	- ca' : '' 포함해서 지우고 insert mode
	- ci" : "" 안의 문자열을 지우고 insert mode
	- ca" : "" 를 포함 문자열을 지우고 insert mode
	- C : 현재 커서부터 줄 끝까지 지우고 insert mode

- 덮어쓰기 명령
	- r, R
	- r : 현재 커서위의 1문자를 지우고 insert mode(1문자만), 이동 명령과 조합 가능.
	- 10r : 현재 커서위치의 1문자를 지우고 입력대기(주의 최초r을 10번 반복). 
	- v2lr : 현재 커서 위치부터 2칸을 지우고 입력대기
		- ==========================================
		 위와 같은 문자를 -로 바꾸려면
		 커서를 처음 =에 위치시키고 ``v$r-``
	- R : 줄전체를 지우고 insert mode

- 복사 명령/붙이기 명령
	- y, yy, Y
	- y : 복사 대기 명령, 이동키와 조합 가능
	- 3yW : 현재 커서 위치부터 3단어를 복사.
	- yy : 한줄을 복사.
	- Y : 현재 커서 줄부터 한줄을 복사.
	- 2Y : 현재 커서 줄부터 2줄을 복사.
	- p : 현재 커서 뒤에 붙이기.
	- P : 현재 커저 앞에 붙이기.
	(주의)붙이기를 할때 복사 한것이 열을 복사한 것인지, 줄을 복사한 것인지에 따라 앞,뒤 기준이 윗줄, 아랫줄로 반영됩니다.

- 스크롤 명령
	- Ctrl+u, Ctrl+d, Ctrl+e, Ctrl+y, Ctrl+f, Ctrl+b
		- Ctrl+u : 커서를 중앙에 두고 위로 한화면 스크롤
		- Ctrl+d : 커서를 중앙에 두고 아래로 한화면 스크롤
		- Ctrl+e : 한줄씩 위로
		- Ctrl+y : 한줄씩 아래로
		- Ctrl+f : 한화면 위로 커서는 화면 상단
		- Ctrl+b : 한화면 아래로 커서는 화면 하단

## Insert Mode
- i, I, a, A, o, O
	- i : i명령은 커서 앞에 입력합니다. 
	- I : 줄 처음에 입력을 합니다.
	- a : 커서 뒤에 입력을 합니다.
	- A : 줄 끝에 입력을 합니다.
	- o : 커서 아래에 새줄을 만들고 입력을 합니다.
	- O : 커서 위에 새줄을 만들고 입력을 합니다.
- 문자를 지우려면 백스페이스 또는 ``Ctrl+h``를 입력합니다.
- 단어를 지우려면 ``Ctrl + w``
- 줄을 지우려면 ``Ctrl + u``
- Insert mode에서 커서이동은 마우스를 사용하거나 Normal Mode에서 하는 것이 편합니다.
- 단어 단위로 이동하려면 ``Ctrl+좌우방향키``
- 위 아래줄로 이동하려면 ``Ctrl+gk`` , ``Ctrl+gj``
- ``Ctrl+n`` 커서 이전에 입력한 단어를 모두 보여주고 자동완성 시켜줍니다. ``Ctrl+p``는 후보를 반대로 찾음
	- 캘리포니아 란 단어를 입력 했었고, 다시 입력하려고 하면 캘 까지만 입력하고 Ctrl + n 

## Visual Mode
- v, V, Ctrl + V(windows Ctrl+q)
- 비주얼 모드는 범위를 지정할 때 사용하는 mode 입니다.
- v : 라인을 기준으로 범위를 지정합니다. 
- V : 줄단위로 범위를 지정합니다.(단위가 줄입니다.)
- Ctrl + v : 열을 기준으로 범위를 지정합니다.
- 이동키 또는 마우스로 범위를 지정할 수 있습니다.

## Command-line Mode

- 파일관리
	- w, e, E, pwd, cd 
		- w : 파일을 저장합니다.
		- e : 파일을 오픈 합니다. 파일이 존재 하면 open, 없으면 새로 만듦.
		- E : netrw를 실행 합니다. vim용 파일 관리 매니저 입니다. 종료는 :bd
		- pwd : 현재 작업 디렉토리를 보여줍니다.
		- cd : 작업 디렉토리를 이동합니다.
- 버퍼관리
	- ls, bn, bd, bp, b(숫자)
		- ls : 버퍼 목록을 보여줍니다.
		- bn : 다음 버퍼로 이동합니다.
		- bp : 앞에 있는 버퍼로 이동합니다.
		- b(숫자) : 숫자에 해당하는 버퍼로 이동합니다. 

- 창관리
	- vs, sp, Ctrl+w
	- vs : 창을 세로로 나누어 줍니다.
	- sp : 창을 가로로 나누어 줍니다.
	- Ctrl + w : 찾을 이동합니다. 누를 때마다 창이 전환됩니다.

- 외부명령
	- !
	- 외부명령을 실행 합니다.
